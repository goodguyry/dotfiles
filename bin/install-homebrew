#!/bin/bash
#
# Copyright (c) 2024 Ryan Domingue and contributors
# Report bugs at: https://github.com/goodguyry/dotfiles/issues
#
# This is free software with ABSOLUTELY NO WARRANTY.
#
# Install and/or update Homebrew.
# Requires XCode Command Line Tools.

# Source setup files.
source "${dotfiles_dir}/lib/status";

# Check for Homebrew.
if ! [ -z "$(type -P brew)" ]; then
  status --info 'Installing Homebrew...';
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"

  brew doctor;

  [[ $? ]] \
    && status --success 'Homebrew is ready.' \
    || status --error 'There was a problem installing Homebrew.';
fi;

status --info 'Updating Homebrew...';
brew update;

# Font tools.
# @todo Move this to where packages are installed.
brew tap bramstein/webfonttools;
# Alternate versions.
brew tap homebrew/cask-versions;
# Fonts.
brew tap homebrew/cask-fonts;
