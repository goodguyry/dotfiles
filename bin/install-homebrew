#!/bin/bash
#
# Copyright (c) 2024 Ryan Domingue and contributors
# Report bugs at: https://github.com/goodguyry/dotfiles/issues
#
# This is free software with ABSOLUTELY NO WARRANTY.
#
# Install and/or update Homebrew.
# Requires XCode Command Line Tools.

source "${HOME}/.dotfiles/lib/logger";

# Check for Homebrew.
if ! [ -z "$(type -P brew)" ]; then
  log_info 'Installing Homebrew...';
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"

  brew doctor;

  [[ $? ]] && log_success 'Homebrew is ready.' || log_error 'There was a problem installing Homebrew.';
fi;

log_info 'Updating Homebrew...';
brew update;

# Font tools.
# @todo Move this to where packages are installed.
brew tap bramstein/webfonttools;
# Alternate versions.
brew tap homebrew/cask-versions;
# Fonts.
brew tap homebrew/cask-fonts;
